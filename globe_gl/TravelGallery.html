<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
  <head>
    <meta charset="utf-8" />
    <title>Travel Gallery</title>
    <link rel="stylesheet" href="https://js.arcgis.com/4.23/esri/themes/light/main.css" />
    <script src="https://js.arcgis.com/4.23/"></script>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        background-color: aliceblue;
      }
      .esri-legend {
        background-color: rgba(255, 255, 255, 0.8);
      }
    </style>

    <script>
      require([
        "esri/config",
        "esri/Map",
        "esri/views/SceneView",
        "esri/layers/GraphicsLayer",
        "esri/Graphic",
        "esri/PopupTemplate"
      ], function (esriConfig, Map, SceneView, GraphicsLayer, Graphic, PopupTemplate) {
        esriConfig.apiKey = "AAPK8042725bef1c451b80c4af5275541462-Ldx4N4V0482_Be6uiGQa4CjF0PeV84jZftKejkhDpoKizYjzOSQQoX04d1Uy22y";

        const map = new Map({
          basemap: "arcgis-imagery",
          ground: "world-elevation"          
        });        
    
        const view = new SceneView({
          container: "viewDiv",
          map: map,
          // Indicates to create a global scene
          viewingMode: "global",
          camera: {
            position: [
              -95.771556,
              35.967243,
              18000000
            ],
            heading: 0.00,
            tilt: 0.10
          },

          constraints: {
            altitude: {
              min: 5000
            }
          },
          qualityProfile: "high",
          alphaCompositingEnabled: true,
          highlightOptions: {
            fillOpacity: 0,
            color: "#ffffff"
          },
          environment: {
            background: {
              type: "color",
              color: [0, 0, 0, 0]
            },
            atmosphere: null,
            starsEnabled: true
          }
        });
        
        //lat, long arrays
        var longs = [-111.651,-92.2880,-99.1332,-106.3823,-80.8431,-96.7266];
        var lats = [35.1983,34.7445,19.4326,39.0820,35.2271,17.0732];
        var imgs = [
          "https://images.unsplash.com/photo-1595433707802-6b2626ef1c91?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1760&q=80",
          "https://images.unsplash.com/photo-1593288942460-e321b92a6cde?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80",
          "https://images.unsplash.com/photo-1595433708356-1c1e6581c164?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2669&q=80",
          "https://images.unsplash.com/photo-1595433708220-3aa013e5e43f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2669&q=80",
          "https://images.unsplash.com/photo-1595433707937-966617f9e8e4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2669&q=80",
          "https://images.unsplash.com/photo-1593627010886-d34828365da7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80"
        ]
                
         //Add graphics layer

        const graphicsLayer = new GraphicsLayer();
         map.add(graphicsLayer);

         //Add a 3D point graphic
        
        const markerSymbol = {
          type: "simple-marker", // autocasts as new SimpleMarkerSymbol()
          color: "black",
          outline: {
            // autocasts as new SimpleLineSymbol()
            color: "red",
            width: 2
          }
        };

            for (i=0; i< longs.length; i++ ){
                var point = {
                  type: "point", // autocasts as new Point()
                  longitude: longs[i],
                  latitude: lats[i]          
            };
              
              const template = new PopupTemplate({
                title: "Image Gallery",
                content: [{ // <- media goes in the content
                  type: "media", // <- autocast to media
                  mediaInfos: [{
                    title: "<b>CATS TEST</b>",
                    caption: "",
                    type: "image",
                    value: {
                      sourceURL: imgs[i]
                    }
                  }]
                }]
              });
        
            const pointGraphic = new Graphic({
              geometry: point,
              symbol: markerSymbol,
              popupTemplate: template
            });

            graphicsLayer.add(pointGraphic);
        }; 
      });
    </script>
  </head>

  <body>
    <div id="viewDiv"></div>
  </body>
</html> 
