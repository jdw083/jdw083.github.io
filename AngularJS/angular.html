<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!DOCTYPE html>
<html5>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style type="text/css">            
            header h1, header h2 {
                text-align: center;
            }
            main h2, main h1 {
                text-align: center;
            }
            body {
                background-color: lightslategrey;
                color: ghostwhite;
            }
            table {
                width: 100%;
                text-align: center;
            }
            #tblMain tr:nth-child(even), #tblMain1 tr:nth-child(even) {
                background-color: #f2f2f2;
            }
            #tblMain, #tblMain1 {
                background-color: gainsboro;
                color: black;
            }
                #tblMain td, #tblMain th, #tblMain1 td, #tblMain1 th {
                    border: 1px solid black;
                    color: black;
                }
            #CSCEntry {
                width: 20%;
                margin-left: auto;
                margin-right: auto;
            }          


        </style>
        <title>James Windham - Portfolio Showcase</title>
    </head>
    <body ng-app="myApp" ng-controller="myCtrl">
        <header>            
        </header>                 
        <main>    
            <br />
            <div id="visitors">
                <h2>Visitor's Table - JSON written by Node js and displayed by AngularJS</h2>
                <table class="main table table-striped" id="tblMain" cellspacing="0">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Date</th>
                            <th scope="col">First Name</th>
                            <th scope="col">Last Name</th>
                            <th scope="col">Phone #</th>
                            <th scope="col">Comment</th>
                        </tr>
                    </thead>
                    <tr ng-repeat="v in visitors | orderBy : datetime">
                        <th scope="row">{{$index + 1}}</td>
                        <td>{{v.datetime}}</td>
                        <td>{{v.firstname | uppercase}}</td>
                        <td>{{v.lastname | uppercase}}</td>
                        <td>{{v.phone}}</td>
                        <td>{{v.comment | uppercase}}</td>
                    </tr>
                </table>
            </div>
            <br />
            <hr />
            <br />
            <div id="tblCSC">
                <h2>City, State, Country Table - array in code being updated by AngularJS</h2>
                <h2>Enter Record Below &#128071;</h2>
                <table id="CSCEntry">
                    <thead>
                        <tr>
                            <td>Country</td>
                            <td>State</td>
                            <td>City</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input id="inpCountry" type="text" ng-model="country" /></td>
                            <td><input id="inpState" type="text" ng-model="state" /></td>
                            <td><input id="inpCity" type="text" ng-model="city" /></td>
                            <td><button ng-click="insert()">ENTER</button></td>
                        </tr>
                    </tbody>
                </table>
                <table class="main table table-striped" id="tblMain1" cellspacing="0">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">City</th>
                            <th scope="col">State</th>
                            <th scope="col">Country</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="r in records track by $index">
                            <th scope="row"><span class="sn">{{r.id}}</span></td>
                            <td>{{r.city}}</td>
                            <td>{{r.state}}</td>
                            <td>{{r.country}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <br />
            <hr />
            <br />            
        </main>
    </body>
</html5>
<script type="text/javascript">
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function ($scope, $http, $sce) {
        // GET request from tblVisitors JSON
        $http({
            method: 'GET',
            url: 'json/data.json'
        }).then(function successCallback(response) {
            $scope.visitors = (response.data);
        }, function errorCallback(response) {
        });
        //city, state, country table demo
        $scope.records = [{
            "id": "1",
            "city": "Boulder",
            "state": "CO",
            "country": "USA"
        },
        {
            "id": "2",
            "city": "Denver",
            "state": "CO",
            "country": "USA"
        },
        {
            "id": "3",
            "city": "Chicago",
            "state": "IL",
            "country": "USA"
        },
        {
            "id": "4",
            "city": "Providence",
            "state": "RI",
            "country": "USA"
        }]
        //insert new record
        $scope.insert = function () {
            //Add the new item to the Array.
            var record = {
                id: $scope.records.length + 1,
                city: $scope.city,
                state: $scope.state,
                country: $scope.country
            };
            $scope.records.push(record);
            $scope.id = '';
            $scope.city = '';
            $scope.state = '';
            $scope.country = '';
        }
    });
</script>
